@Library('shared-lib')_
pipFunc() {

	  		
	stage('Print Build Info') {
	    snDevOpsStep()
	    //snDevOpsChange()
		printBuildinfo {
			name = "Sample Name"
		}
	}
	stage('Disable balancer') {
	   snDevOpsStep()
	   	snDevOpsChange()
		disableBalancerUtils()
	}
	stage('Deploy') {
	    snDevOpsStep()
		deploy()
	}
	stage('Enable balancer') {
	    snDevOpsStep()
	    //snDevOpsChange()
		//enableBalancerUtils()
	}
	stage('Check Status') {

		snDevOpsStep()
		checkStatus()
		environment {
		 SCANNER_HOME = tool 'sonarScanner'
		}
		steps {
         	withSonarQubeEnv('Sonar_Cloud') {
	       		sh '${SCANNER_HOME}/bin/sonar-scanner -Dproject.settings=${SCANNER_HOME}/conf/sonar-scanner-cloud.properties'
       
			}
		}
	}
}
